<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>0523-model-argument-for-route-templates - </title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="affix"><a href="introduction.html">Introduction</a></li><li><a href="0001-transform-attribute-meta-parameter.html">0001-transform-attribute-meta-parameter</a></li><li><a href="0003-block-params.html">0003-block-params</a></li><li><a href="0003-cli-ember-doctor.html">0003-cli-ember-doctor</a></li><li><a href="0010-engines.html">0010-engines</a></li><li><a href="0011-improved-cp-syntax.html">0011-improved-cp-syntax</a></li><li><a href="0012-help-json-output.html">0012-help-json-output</a></li><li><a href="0015-the-road-to-ember-2-0.html">0015-the-road-to-ember-2-0</a></li><li><a href="0020-sri-default.html">0020-sri-default</a></li><li><a href="0023-command-line-completion.html">0023-command-line-completion</a></li><li><a href="0024-bound-attributes.html">0024-bound-attributes</a></li><li><a href="0028-app-import-output-file.html">0028-app-import-output-file</a></li><li><a href="0029-addon-black-and-whitelist-for-apps.html">0029-addon-black-and-whitelist-for-apps</a></li><li><a href="0045-internet-explorer.html">0045-internet-explorer</a></li><li><a href="0046-cli-improved-release-process.html">0046-cli-improved-release-process</a></li><li><a href="0046-registry-reform.html">0046-registry-reform</a></li><li><a href="0050-cli-production-code-stripping.html">0050-cli-production-code-stripping</a></li><li><a href="0050-improved-actions.html">0050-improved-actions</a></li><li><a href="0053-helpers.html">0053-helpers</a></li><li><a href="0055-anonymous-amd.html">0055-anonymous-amd</a></li><li><a href="0056-improved-release-cycle.html">0056-improved-release-cycle</a></li><li><a href="0057-ember-data-reference-unification.html">0057-ember-data-reference-unification</a></li><li><a href="0058-helper-listing.html">0058-helper-listing</a></li><li><a href="0061-ember-data-background-fetch.html">0061-ember-data-background-fetch</a></li><li><a href="0064-contextual-component-lookup.html">0064-contextual-component-lookup</a></li><li><a href="0065-deprecation-warning-handlers.html">0065-deprecation-warning-handlers</a></li><li><a href="0080-serve-file-api.html">0080-serve-file-api</a></li><li><a href="0086-firefox-in-ci.html">0086-firefox-in-ci</a></li><li><a href="0090-addon-tree-caching.html">0090-addon-tree-caching</a></li><li><a href="0091-cli-addon-instrumentation-experimental-hooks.html">0091-cli-addon-instrumentation-experimental-hooks</a></li><li><a href="0091-weakmap.html">0091-weakmap</a></li><li><a href="0092-blueprint-remove-old-files.html">0092-blueprint-remove-old-files</a></li><li><a href="0095-cli-standardise-targets.html">0095-cli-standardise-targets</a></li><li><a href="0095-router-service.html">0095-router-service</a></li><li><a href="0096-enable-yarn-usage.html">0096-enable-yarn-usage</a></li><li><a href="0101-ember-data-friendly-errors.html">0101-ember-data-friendly-errors</a></li><li><a href="0105-addons-optionalDependencies.html">0105-addons-optionalDependencies</a></li><li><a href="0108-add-custom-transform.html">0108-add-custom-transform</a></li><li><a href="0110-packaging.html">0110-packaging</a></li><li><a href="0114-add-template-lint-addon.html">0114-add-template-lint-addon</a></li><li><a href="0116-qunit-dom.html">0116-qunit-dom</a></li><li><a href="0120-cli-guides.html">0120-cli-guides</a></li><li><a href="0120-route-serializers.html">0120-route-serializers</a></li><li><a href="0121-remove-ember-cli-eslint.html">0121-remove-ember-cli-eslint</a></li><li><a href="0136-contains-to-includes.html">0136-contains-to-includes</a></li><li><a href="0139-isHtmlSafe.html">0139-isHtmlSafe</a></li><li><a href="0143-module-unification.html">0143-module-unification</a></li><li><a href="0150-factory-for.html">0150-factory-for</a></li><li><a href="0176-javascript-module-api.html">0176-javascript-module-api</a></li><li><a href="0178-deprecate-ember-k.html">0178-deprecate-ember-k</a></li><li><a href="0181-deprecate-ember-data-initializers.html">0181-deprecate-ember-data-initializers</a></li><li><a href="0186-track-unique-history-location-state.html">0186-track-unique-history-location-state</a></li><li><a href="0191-deprecate-component-lifecycle-hook-args.html">0191-deprecate-component-lifecycle-hook-args</a></li><li><a href="0194-deprecate-custom-event-manager.html">0194-deprecate-custom-event-manager</a></li><li><a href="0213-custom-components.html">0213-custom-components</a></li><li><a href="0225-ember-engines-mount-params.html">0225-ember-engines-mount-params</a></li><li><a href="0226-named-blocks.html">0226-named-blocks</a></li><li><a href="0229-deprecate-testing-restricted-resolver.html">0229-deprecate-testing-restricted-resolver</a></li><li><a href="0232-simplify-qunit-testing-api.html">0232-simplify-qunit-testing-api</a></li><li><a href="0236-deprecation-ember-string.html">0236-deprecation-ember-string</a></li><li><a href="0237-deprecation-ember-map.html">0237-deprecation-ember-map</a></li><li><a href="0240-es-classes.html">0240-es-classes</a></li><li><a href="0252-browser-support-changes.html">0252-browser-support-changes</a></li><li><a href="0268-acceptance-testing-refactor.html">0268-acceptance-testing-refactor</a></li><li><a href="0272-deprecation-native-function-prototype-extensions.html">0272-deprecation-native-function-prototype-extensions</a></li><li><a href="0276-named-args.html">0276-named-args</a></li><li><a href="0278-template-only-components.html">0278-template-only-components</a></li><li><a href="0280-remove-application-wrapper.html">0280-remove-application-wrapper</a></li><li><a href="0281-es5-getters.html">0281-es5-getters</a></li><li><a href="0286-block-let-template-helper.html">0286-block-let-template-helper</a></li><li><a href="0287-promote-in-element-to-public-api.html">0287-promote-in-element-to-public-api</a></li><li><a href="0293-record-data.html">0293-record-data</a></li><li><a href="0294-optional-jquery.html">0294-optional-jquery</a></li><li><a href="0297-deprecate-ember-logger.html">0297-deprecate-ember-logger</a></li><li><a href="0300-rfc-process-update.html">0300-rfc-process-update</a></li><li><a href="0308-deprecate-property-lookup-fallback.html">0308-deprecate-property-lookup-fallback</a></li><li><a href="0311-angle-bracket-invocation.html">0311-angle-bracket-invocation</a></li><li><a href="0318-array-helper.html">0318-array-helper</a></li><li><a href="0322-deprecate-copy-copyable.html">0322-deprecate-copy-copyable</a></li><li><a href="0324-deprecate-component-isvisible.html">0324-deprecate-component-isvisible</a></li><li><a href="0326-ember-data-filter-deprecation.html">0326-ember-data-filter-deprecation</a></li><li><a href="0329-deprecated-ember-evented-in-ember-data.html">0329-deprecated-ember-evented-in-ember-data</a></li><li><a href="0331-deprecate-globals-resolver.html">0331-deprecate-globals-resolver</a></li><li><a href="0332-ember-data-record-links-and-meta.html">0332-ember-data-record-links-and-meta</a></li><li><a href="0335-deprecate-send-action.html">0335-deprecate-send-action</a></li><li><a href="0337-native-class-constructor-update.html">0337-native-class-constructor-update</a></li><li><a href="0340-deprecate-ember-merge.html">0340-deprecate-ember-merge</a></li><li><a href="0345-discord.html">0345-discord</a></li><li><a href="0364-roadmap-2018.html">0364-roadmap-2018</a></li><li><a href="0369-deprecate-computed-clobberability.html">0369-deprecate-computed-clobberability</a></li><li><a href="0370-deprecate-computed-volatile.html">0370-deprecate-computed-volatile</a></li><li><a href="0372-ember-data-model-factory-for.html">0372-ember-data-model-factory-for</a></li><li><a href="0373-Element-Modifier-Managers.html">0373-Element-Modifier-Managers</a></li><li><a href="0375-deprecate-computed-property-modifier.html">0375-deprecate-computed-property-modifier</a></li><li><a href="0386-remove-jquery.html">0386-remove-jquery</a></li><li><a href="0389-dynamic-tag-names.html">0389-dynamic-tag-names</a></li><li><a href="0391-router-helpers.html">0391-router-helpers</a></li><li><a href="0392-deprecate-component-manager-string-lookup.html">0392-deprecate-component-manager-string-lookup</a></li><li><a href="0395-ember-data-packages.html">0395-ember-data-packages</a></li><li><a href="0398-RouteInfo-Metadata.html">0398-RouteInfo-Metadata</a></li><li><a href="0403-ember-data-identifiers.html">0403-ember-data-identifiers</a></li><li><a href="0408-decorators.html">0408-decorators</a></li><li><a href="0410-tracked-properties.html">0410-tracked-properties</a></li><li><a href="0415-render-element-modifiers.html">0415-render-element-modifiers</a></li><li><a href="0416-glimmer-components.html">0416-glimmer-components</a></li><li><a href="0418-deprecate-route-render-methods.html">0418-deprecate-route-render-methods</a></li><li><a href="0421-deprecate-application-controller-props.html">0421-deprecate-application-controller-props</a></li><li><a href="0425-website-redesign.html">0425-website-redesign</a></li><li><a href="0431-guides-restructure.html">0431-guides-restructure</a></li><li><a href="0432-contextual-helpers.html">0432-contextual-helpers</a></li><li><a href="0435-modifier-splattributes.html">0435-modifier-splattributes</a></li><li><a href="0440-decorator-support.html">0440-decorator-support</a></li><li><a href="0445-deprecate-with.html">0445-deprecate-with</a></li><li><a href="0446-contribution-guides.html">0446-contribution-guides</a></li><li><a href="0449-deprecate-partials.html">0449-deprecate-partials</a></li><li><a href="0451-injection-parameter-normalization.html">0451-injection-parameter-normalization</a></li><li><a href="0452-ember-data-medium-term-plan.html">0452-ember-data-medium-term-plan</a></li><li><a href="0457-nested-lookups.html">0457-nested-lookups</a></li><li><a href="0459-angle-bracket-built-in-components.html">0459-angle-bracket-built-in-components</a></li><li><a href="0460-yieldable-named-blocks.html">0460-yieldable-named-blocks</a></li><li><a href="0461-ember-data-singleton-record-data.html">0461-ember-data-singleton-record-data</a></li><li><a href="0463-record-data-state.html">0463-record-data-state</a></li><li><a href="0465-record-data-errors.html">0465-record-data-errors</a></li><li><a href="0466-request-state-service.html">0466-request-state-service</a></li><li><a href="0468-classic-decorator.html">0468-classic-decorator</a></li><li><a href="0470-fn-helper.html">0470-fn-helper</a></li><li><a href="0471-on-modifier.html">0471-on-modifier</a></li><li><a href="0478-tracked-properties-updates.html">0478-tracked-properties-updates</a></li><li><a href="0481-component-templates-co-location.html">0481-component-templates-co-location</a></li><li><a href="0486-deprecate-mouseenter.html">0486-deprecate-mouseenter</a></li><li><a href="0487-custom-model-classes.html">0487-custom-model-classes</a></li><li><a href="0491-deprecate-disconnect-outlet.html">0491-deprecate-disconnect-outlet</a></li><li><a href="0494-async-observers.html">0494-async-observers</a></li><li><a href="0521-find-by-identifier.html">0521-find-by-identifier</a></li><li><a href="0522-default-serializers-and-adapters.html">0522-default-serializers-and-adapters</a></li><li><a href="0523-model-argument-for-route-templates.html" class="active">0523-model-argument-for-route-templates</a></li><li><a href="0554-deprecate-getwithdefault.html">0554-deprecate-getwithdefault</a></li><li><a href="0558-edition-detection.html">0558-edition-detection</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title"></h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <ul>
<li>Start Date: 2019-08-05</li>
<li>Relevant Team(s): Ember.js, Learning</li>
<li>RFC PR: https://github.com/emberjs/rfcs/pull/523</li>
<li>Tracking: (leave this empty)</li>
</ul>
<h1><a class="header" href="#provide-model-named-argument-to-route-templates" id="provide-model-named-argument-to-route-templates">Provide <code>@model</code> named argument to route templates</a></h1>
<h2><a class="header" href="#summary" id="summary">Summary</a></h2>
<p>Allow route templates to access the route's model with <code>@model</code> in addition to
<code>this.model</code>.</p>
<p>Before:</p>
<pre><code class="language-hbs">{{!-- The model for this route is the current user --}}

&lt;div&gt;
  Hi &lt;img src=&quot;{{this.model.profileImage}}&quot; alt=&quot;{{this.model.name}}'s profile picture&quot;&gt; {{this.model.name}},
  this is a valid Ember template!
&lt;/div&gt;

{{#if this.model.isAdmin}}
  &lt;div&gt;Remember, with great power comes great responsibility!&lt;/div&gt;
{{/if}}
</code></pre>
<p>After:</p>
<pre><code class="language-hbs">{{!-- The model for this route is the current user --}}

&lt;div&gt;
  Hi &lt;img src=&quot;{{@model.profileImage}}&quot; alt=&quot;{{@model.name}}'s profile picture&quot;&gt; {{@model.name}},
  this is a valid Ember template!
&lt;/div&gt;

{{#if @model.isAdmin}}
  &lt;div&gt;Remember, with great power comes great responsibility!&lt;/div&gt;
{{/if}}
</code></pre>
<h2><a class="header" href="#motivation" id="motivation">Motivation</a></h2>
<p>With the Octane release, templates are taking on a more important role in
idomatic Ember apps. As templates become more self-sufficient, many cases where
a JavaScript class was needed in the past (e.g. to customize the &quot;wrapper&quot;
element) can now be expressed with templates alone. This is a direction we will
continue post-Octane.</p>
<p>We would like to update the learning materials (guides) to focus on teaching
the template-centric component model. For example, components can be introduced
as a way to break up large templates into smaller, named pieces, similar to
refactoring a big function into smaller ones. Then, we can layer on making them
reusable through passing arguments. Next, we can introduce the idea of passing
a block and yielding. Finally, we can introduce the component class when we are
ready to discuss adding behavior to the component.</p>
<p>As you can see, we can accomplish quite a lot with template-only components in
Octane, and focusing on teaching templates first-and-foremost would provide
a gentle learning curve for developers and designers who are comfortable with
HTML but perhaps new to Ember (or even JavaScript). With this flow, the concept
of a component class, and consequently, the idea of a &quot;<code>this</code> context&quot; in a
template comes up quite late.</p>
<p>This presents a problem, as we may want or need to teach route templates before
that was introduced. As the model can only be accessed through <code>this.model</code> in
a route template, we would be forced to introduce that concept (and the contept
of a controller) at an earlier time than would be ideal.</p>
<p>Providing <code>@model</code> to route templates would solve this problem quite elegantly.
We will now be able to introduce the concept of arguments (<code>@name</code>) once and it
can be applied consistently between component and route templates.</p>
<p>This also aligns with the general mental model that arguments are things that
are passed into the template from the outside (which is true in the case of the
route model).</p>
<p>This can also be thought of as a small incremental step in the bigger picture
of reforming route templates and removing controllers from Ember. Specifically,
it moves us a bit closer to the mental model that controllers/route templates
are just a &quot;special&quot; kind of component. We expect to continually unify them and
remove the remaining differences, and this is a step towards that direction.</p>
<h2><a class="header" href="#detailed-design" id="detailed-design">Detailed design</a></h2>
<p>Internally, route templates are <em>already</em> modelled as components at the Glimmer
VM layer. To implement this, we would &quot;synthesize&quot; a named argument <code>@model</code>
containing the resolved route model, i.e. the same value as <code>this.model</code> on the
controller instance.</p>
<p>Just like the &quot;reflected&quot; named arguments in classic components, mutating
<code>this.model</code> on the controller instance would <em>not</em> change the value of
<code>@model</code>. In practice, this seems unlikely to be relied upon and probably
considered a bad practice (it does not change the URL, does not affect what is
returned by <code>route.modelFor</code>, etc). In any case, this is consistent with the
general behavior for named arguments, in that they are immutable and should
always reflect what was &quot;passed in&quot; from the caller.</p>
<h2><a class="header" href="#how-we-teach-this" id="how-we-teach-this">How we teach this</a></h2>
<p>In the guides, we should teach that <code>@names</code> are for things that are &quot;passed
in&quot;, i.e. arguments to the template.</p>
<p>In the tutorial, basic components concepts (template-only components, invoking
a component with args, using the args with the template, etc) should be taught
before the <code>model</code> hook is encountered. At that point, explaining that <code>@model</code>
is passed into the component from the route, based on the resolution of the
async <code>model</code> hook, will be quite natural.</p>
<p>For reference, here is a relevant section from the <a href="https://github.com/ember-learn/guides-source/pull/1002">work-in-progress Octane
tutorial</a>. For context,
up until this point, we have taught all the basic component concepts above, plus
adding a (Glimmer) component class, adding instance variables and getters to the
component, accessing those with <code>{{this.*}}</code> in the template, etc.</p>
<blockquote>
<p>So far, we've been hard-coding everything into our <code>&lt;Rental&gt;</code> component. But
that's probably not very sustainable, since eventually, we want our data to
come from a server instead. Let's go ahead and move some of those hard-coded
values out of the component in preparation for that.</p>
<p>We want to start working towards a place where we can eventually fetch data
from the server, and then render the requested data as dynamic content from
the templates. In order to do that, we will need a place where we can write
the code for fetching data and loading them into the routes.</p>
<p>In Ember, <a href="todo://"><em>route files</em></a> are the place to do that. We haven't
needed them yet, because all our routes are essentially just rendering static
pages up until this point, but we are about to change that.</p>
<p>Let's start by creating a route file for the index route. We will create a
new file at <code>app/routes/index.js</code> with the following content:</p>
<pre><code class="language-js{data-filename=&quot;app/routes/index.js&quot;}">import Route from '@ember/routing/route';

export default class IndexRoute extends Route {
  async model() {
    return {
      title: 'Grand Old Mansion',
      owner: 'Veruca Salt',
      city: 'San Francisco',
      location: {
        lat: 37.7749,
        lng: -122.4194,
      },
      category: 'Estate',
      type: 'Standalone',
      bedrooms: 15,
      image: 'https://upload.wikimedia.org/wikipedia/commons/c/cb/Crane_estate_(5).jpg',
      description: 'This grand old mansion sits on over 100 acres of rolling hills and dense redwood forests.',
    };
  }
}
</code></pre>
<p>There's a lot happening here that we haven't seen before, so let's walk
through this. First, we're importing the <a href="todo://"><em><code>Route</code> class</em></a> into the
file. This class is used as a starting point for adding functionality to a
route, such as loading data.</p>
<pre><code class="language-js">import Route from '@ember/routing/route';
</code></pre>
<p>Then, since we are extending the <code>Route</code> class into our <em>own</em> <code>IndexRoute</code>,
which we are also exporting so that the rest of the application can use it.</p>
<pre><code class="language-js">export default class IndexRoute extends Route {
  // ...snip...
}
</code></pre>
<p>So far, so good. But what's happening inside of this route class? We
implemented a <a href="todo://"><em>async method</em></a> called <code>model()</code>. This method is also
known as the <a href="todo://"><em>model hook</em></a>.</p>
<p>The model hook is responsible for fetching and preparing any data that you
need for your route. Ember will automatically call this hook for when
entering a route, so that you can have an opportunity to do what you need to
get the data you need. The object returned from this hook is known as the
<em>model</em> for the route (surprise!).</p>
<p>Usually, this is where we'd fetch data from a server. Since fetching data is
usually an asynchronous operation, the model hook is marked as <code>async</code>. This
gives us the option of using the <code>await</code> keyword to wait for the data
fetching operations to finish.</p>
<p>We'll get to that bit later on. At the moment, we are just returning the same
hard-coding model data, extracted from the <code>&lt;Rental&gt;</code> component, but in a
JavaScript object (also known as <a href="todo://"><em>POJO</em></a>) format.</p>
<p>So, now that we've prepared some model data for our route, let's use it in
our template. In route templates, we can access the model for the route as
<code>this.model</code>. In our case, that would contain the POJO returned from our
model hook.</p>
<p>To test that this is working, let's modify our template and try to render
the <code>title</code> property from our model:</p>
<pre><code class="language-handlebars{data-filename=&quot;app/templates/index.hbs&quot;}">&lt;h1&gt;{{this.model.title}}&lt;/h1&gt;

&lt;div class=&quot;rentals&quot;&gt;
  &lt;ul class=&quot;results&quot;&gt;
    &lt;li&gt;&lt;Rental /&gt;&lt;/li&gt;
    &lt;li&gt;&lt;Rental /&gt;&lt;/li&gt;
    &lt;li&gt;&lt;Rental /&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
</code></pre>
<p>If we look at our page in the browser, we should see our model data reflected
as a new header.</p>
<!-- TODO: screenshot -->
<p>Awesome! Looking good.</p>
<!-- TODO: Update the below if https://github.com/emberjs/rfcs/pull/523 is merged. -->
<blockquote>
<p>Zoey says...</p>
<p>The <code>this</code> in <code>this.model</code> does <em>not</em> refer to the route object. You
<em>cannot</em> add instance variables or getters on the route class and have
access to them here. It's a good idea to keep your route template simple
and minimal — if you need to add state or getters, just add a
component and call it from your route template!</p>
</blockquote>
<p>Ok, now that we know that we have a model to use at our disposal, let's
remove some of the hard-coding that we did earlier! Instead of explicitly
hard-coding the rental information into our <code>&lt;Rental&gt;</code> component, we can pass
the model object to our component instead.</p>
<p>Let's try it out. First, let's pass in our model to our <code>&lt;Rental&gt;</code> component
as the <code>@rental</code> argument. We will also remove the extraneous <code>&lt;h1&gt;</code> tag we
added earlier, no that we know things are working:</p>
<pre><code class="language-handlebars{data-filename=&quot;app/templates/index.hbs&quot;}">&lt;div class=&quot;rentals&quot;&gt;
  &lt;ul class=&quot;results&quot;&gt;
    &lt;li&gt;&lt;Rental @rental={{this.model}} /&gt;&lt;/li&gt;
    &lt;li&gt;&lt;Rental @rental={{this.model}} /&gt;&lt;/li&gt;
    &lt;li&gt;&lt;Rental @rental={{this.model}} /&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
</code></pre>
<p>...snip...</p>
</blockquote>
<p>As you can see, there are some awkwardness explaining <code>this.model</code> at this
point. Knowing that there is a <code>this</code> context on the template, it is only
natural to inquire what <em>is</em> the <code>this</code> we are referring to here.</p>
<p>Up until this point in the tutorial, the only place where we have access to a
<code>this</code> object in the template is a component with a class. Since the route
class is the only related class we made at this point, and it happens to have
a <code>model</code> property (a method) on it, one natural conclusion is to think that
<code>this</code> refers to the route instance, and <code>this.model</code> refers to the model hook.</p>
<blockquote>
<p>Note: you don't always have a <code>this</code> context in templates. Template-only
components <em>do not</em> have a <code>this</code> context. Since template-only components
make up roughly half of the components in the tutorials so far, <em>having</em> a
<code>this</code> from the template is a notable thing that stands out.</p>
</blockquote>
<p>But that completely the wrong mental model! To avoid that, we put in a &quot;Zoey
says...&quot; sidebar that explicitly denies that incorrect mental model, stating
what it <em>is not</em>, without really explaining what it <em>is</em>.</p>
<p>To fully explain what is going on, we would have to pause and take a detour to
explain everyone's least favourite part of the Ember programming model –
controllers. This would be extremely disruptive to the teaching flow, to say
the least, but also serves no purpose at all.</p>
<p>We opted to avoid going down that rabit hole and just treated it as a
boilerplate syntax you have to type.</p>
<p>If we are able to explain this using <code>@model</code> instead, it would make things a
lot smoother here.</p>
<p>We wouldn't have to go into the details of <em>how</em> things get invoked internally.
At the end of the day, it is still just a piece of syntax you type to get the
job done, but at least it is consistent with the general mental model that
<code>@names</code> means that thing was passed in, and it does not trigger the questions
about what <code>this</code> is.</p>
<p>It is also <em>not</em> inconsistent with the fact that there is, in fact, a <code>this</code>
context on the template. The usage and preference of using <code>@names</code> does not
preclude the existance of a class (which provides the <code>this</code> context), as in
the case of <code>@ember/components</code>.</p>
<p>As for the concrete changes that need to be made in the documentation:</p>
<ul>
<li>
<p>We will explain that <code>@model</code> is passed into the component from the route.
For example, in the <code>Route</code> class' <code>model</code> hook documentation, we can say
something like:</p>
<blockquote>
<p>The model hook is responsible for fetching and preparing any data that you
need for your route. Ember will automatically call this hook for when
entering a route, so that you can have an opportunity to do what you need to
get the data you need. The object returned from this hook is known as the
<em>model</em> for the route.</p>
<p>Note that since this is an <code>async</code> hook, if a promise is returned, it will
be automatically <code>await</code>ed by Ember, and the <em>resolved value</em> of the
promise, as opposed to the promise object itself, will become the model of
the route.</p>
<p>The model object can be accessed from the route's template as using the
<code>@model</code> argument. By default, the controller can also accessed the route's
model from <code>this.model</code>. The latter behavior is customizable, see the
<em>setupController</em> method for details.</p>
<p>The model of a route should be treated as read-only. For example, the
controller <em>should not</em> mutate its <code>this.model</code> property, as doing so will
cause it to get out of sync with the rest of the system. Specifically,
doing so will <em>not</em> update the current URL, the <code>@model</code> argument in the
template, the router service, etc. Instead, a <em>route transition</em> should be
performed.</p>
</blockquote>
</li>
<li>
<p>Guides and API docs should be updated to prefer <code>@model</code> in route templates.</p>
</li>
<li>
<p>API docs will still document the <code>model</code> property.</p>
</li>
<li>
<p>We will remove any examples that uses <code>{{this.model}}</code> in templates, or replace them with <code>{{@model}}</code>. i.e. we won’t be documenting using <code>this.model</code> in templates, even thought it would “work”.</p>
</li>
</ul>
<h2><a class="header" href="#drawbacks" id="drawbacks">Drawbacks</a></h2>
<p>In some applications, developers have developed a pattern to override the
<code>setupController</code> method to assign the model to a different property on the
controller other than the default <code>model</code> naming convention.</p>
<p>Since this RFC does not provide any way to customize the name of the argument,
developers using this pattern will have to choose between one of the following
two options:</p>
<ol>
<li>
<p>Refactor/revert to the default behavior of <code>setupController</code> and use the
default <code>model</code> property. This makes it cognitively easy to understand the
<code>@model</code> usages in the route templates.</p>
</li>
<li>
<p>Stick with the alternative names and avoid using <code>@model</code> in the route
templates, until there is a way to customize both names at the same time.</p>
</li>
</ol>
<p>Technically, it is also possible to use one name in the controller and
<code>@model</code> in the template. This doesn't cause any issues for the system, but
maybe confusing for the developers.</p>
<p>In the future, we expect to generalize the <code>model</code> hook and <code>@model</code> into
allowing passing arbitrary arguments into the template, perhaps replacing
the <code>model</code> hook with something like an <code>args</code> hook that returns a POJO of
arguments to pass.</p>
<h2><a class="header" href="#alternatives" id="alternatives">Alternatives</a></h2>
<p>We can do nothing.</p>
<h2><a class="header" href="#unresolved-questions" id="unresolved-questions">Unresolved questions</a></h2>
<p>None?</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="0522-default-serializers-and-adapters.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="0554-deprecate-getwithdefault.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="0522-default-serializers-and-adapters.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="0554-deprecate-getwithdefault.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
